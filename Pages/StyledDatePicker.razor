@page "/"
@using BlazoriseDatePickerWithHolidays.Components
@using BlazoriseDatePickerWithHolidays.Service
@using static BlazoriseDatePickerWithHolidays.Service.HolidayService
@inject IHolidayService HolidayService

<h3>Custom Date Picker with Highlighted Days</h3>

<p>
    The highlighted dates selected for this demo are Christian Holidays and other public days off in Norway. In Norwegian, these days off are called 'Offentlige høytidsdager'. These days are marked with a pink background, white foreground and rounded corners. Tooltips are added showing the Holiday name
</p>

<div class="container-fluid">
    <div class="row">
        <div class="col-md-3">
            <CustomDatePicker
                @bind-SelectedDate="selectedDate" 
                HighlightedDays="_holidays" />
        </div>
    </div>
</div>

<p class="mt-3">Selected date <strong>@selectedDate.ToString("dd.MM.yyyy")</strong></p>

@code {
    private DateTime selectedDate = new DateTime(2025, 5, 4);
    private static int minYear = DateTime.Today.AddYears(-10).Year;
    private List<AnnotatedDateTime>? _holidays;

    protected override void OnInitialized()
    {
        _holidays = Enumerable.Range(minYear, 20)
            .SelectMany(y => HolidayService.GetHolidays(y))
            .ToList();
    }
}
